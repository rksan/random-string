// @ts-check
"use strict";

const webpack = require("webpack");
const merge = require("lodash/merge");

const devConfig = require("./webpack.config.dev");

/** @type {import("webpack").Configuration} */
const webpackConfig = {
  mode: "production",

  output: {
    filename: "index.min.js",
  },

  devtool: false,

  optimization: {
    minimize: true,
  },

  plugins: [new webpack.LoaderOptionsPlugin({ minimize: true, debug: false })],
};

/** @type {import("webpack").Configuration} */
module.exports = merge(devConfig, webpackConfig);
